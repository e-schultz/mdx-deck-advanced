import Code from 'mdx-code';
import { FullScreenCode } from "mdx-deck/layouts";

# Function - Scope and Context 

---

# Context vs Scope

* Similar, but not the same
* Every function execution has both 
* Scope is function based
* Context is object based


---

# Scope 

* Scope relates to the variables and functions within scope

---

# Scope 

> In other words, scope pertains to the variable access of a function when it is invoked and is unique to each invocation.

---

# Variable Scope

* Local or Global 
* Local is within a function context
* `var` is hoisted to the top of the function 
* `let` and `const` are scoped within a block 

---

# What `this` Context?

---

# `this` gets confusing 

* `this` has been the source of many errors
* `this` context can change 
* `this` is not what you are used to in C#

---

> Context is always the value of the `this` keyword which is a reference to the object that “owns” the currently executing code.

---

# A simple way of thinking about it ....

* `owner.method();`
* The thing that is left of the `.` is the context owner 
* If it is just `method()` - it is unbound, and the context is global
* Unless it is a arrow function `() =>` - and `this` is the function it's called in

```notes
this is a useful lie ....
```
---

# Lets explore this with some examples ...

---
export default FullScreenCode

## Example - `this` on an object

<div style={{height: '80vh', display: 'block'}}>
    <iframe height="100%" style={{height: '100%'}} width="100%" src="https://repl.it/@e_schultz/01-Exploring-Context-of-This?lite=true" scrolling="no" frameBorder="no"  allowFullScreen={true} sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals">
    </iframe>
</div>

```notes
* Go through things like 
- let hello = evan.sayHello;
- hello();
* - passing evan.sayHello into a call back 
* - making a new object and assigning hello to it
* - exploring bind
```

---

export default FullScreenCode

## Example - `this` on an class

<div style={{height: '80vh', display: 'block'}}>
    <iframe height="100%" style={{height: '100%'}} width="100%" src="https://repl.it/@e_schultz/02-Exploring-Context-of-This-class?lite=true" scrolling="no" frameBorder="no"  allowFullScreen={true} sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals">
    </iframe>
</div>

---

export default FullScreenCode

## Example - Changing the context of `this`
<div style={{height: '80vh', display: 'block'}}>
    <iframe height="100%" style={{height: '100%'}} width="100%" src="https://repl.it/@e_schultz/03-Exploring-Context-of-This-class-and-binding-context?lite=true" scrolling="no" frameBorder="no" allowFullScreen={true}  sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals">
    </iframe>
</div>

```notes
can also walk through something like:
let bob = {
  firstName: 'bob',
  lastName: 'uncle'
}
bob.sayHello = evan.sayHello;//.bind(renee)
bob.sayHello()
and the output with and without `bind`
```
---

# Closures 

```javascript

function outerB() {

}
function outerA(input) {
    let inputA = input;
    outerB(); // B is in global 
    function innerA() {
        // has access to outer 
        console.log(inputA); 
    }

}
```

```notes
- https://medium.freecodecamp.org/javascript-closures-simplified-d0d23fa06ba4
- https://www.w3schools.com/js/js_function_closures.asp
```
