import { FullScreenCode, Invert } from "mdx-deck/layouts";
import ReplIt from "../../components/replit";
import CodeSandbox from "../../components/codesandbox";
import { Head, Appear, Image, withDeck } from 'mdx-deck'
import { CodeSurfer } from "mdx-deck-code-surfer";
import nightOwl from "prism-react-renderer/themes/nightOwl";


export default Invert 

# Component Composition 

---

## The "Children" Prop

- A special type of prop
- This represents whatever is passed inside of the tags of a React component
- Think of it like a "slot" that something can be placed into later

---
export default FullScreenCode

## Rendering Children

<CodeSandbox src="https://codesandbox.io/embed/ql21r7nq6q?autoresize=1&fontsize=14"/>

---

## Why is it important?

---
<Image src="./images/lego-lego.png" size="contain"/>

---

## Composition!

- Components stay flexible when we can switch out their contents
- We can make many small components to use where we need them
- Allows for greater component re-use

---

## Compare and Contrast...

---

<CodeSurfer
  code={require("!raw-loader!./snippets/article-layout.snippet")}
  theme={nightOwl}
  lang="javascript"
  title="ArticleLayout With Props"
  showNumbers
  steps={[
    {}, // This component lays out a blog article
    {lines: [1], notes: "Takes props for title and copy"},
    {lines: [7], notes: "But what if we want more than one paragraph?" },
    {}
  ]}
/>

---

<CodeSurfer
  code={require("!raw-loader!./snippets/article-layout-composed.snippet")}
  theme={nightOwl}
  lang="javascript"
  title="ArticleLayout With Composition"
  showNumbers
  steps={[
    {}, // This component lays out a blog article
    {lines: [1, 7], notes: "Replace the copy prop with children"},
    {lines: [10,11,12,13], notes: "And we can use whatever copy we want" },
    {}
  ]}
/>
---

## Exercise - Extracting Components - 01

* Extract the ProductCard component into smaller building blocks
* classNames can provide a clue on where to make a component

---
<CodeSurfer
  code={require("!raw-loader!./snippets/productcard.snippet")}
  theme={nightOwl}
  lang="jsx"
  title="Extracting Components"
  showNumbers
  steps={[
    {}, // This component lays out a blog article
    {lines: [3,23], notes: 'Component for the container'},
    {lines: [4,15], notes: 'Same className repeated'},
    {}
  ]}
/>
---
export default FullScreenCode

## Exercise - Extracting Components - 01 - Start 

<CodeSandbox src="https://codesandbox.io/embed/github/e-schultz/ts-js-react-training/tree/master/exercises/extracting-components-01-start?codemirror=1&fontsize=14&module=%2FREADME.md"/>

---
export default FullScreenCode

## Exercise - Extracting Components - 01 - Solution 

<CodeSandbox src="https://codesandbox.io/embed/github/e-schultz/ts-js-react-training/tree/master/exercises/extracting-components-01-end?codemirror=1&fontsize=14&module=%2FREADME.md"/>

---
## Exercise - Extracting Components - Homework

- Can you make parts of this more reusable?
- Can you make a generic `Card` component that is composable?
- Can you modify the ProductCard to accept product data as Props?
- Be sure to bring your solutions to the Office Hours later this week


---
# Break / Q &A
---
<CodeSurfer
  code={require("!raw-loader!./snippets/component-as-props.snippet")}
  theme={nightOwl}
  lang="javascript"
  title="Components as Props"
  showNumbers
  steps={[
    {}, // This component lays out a blog article
    {lines: [1], notes: "Food Component takes a prop `type`"},
    {lines: [4], notes: "Since we can pass functions as a prop, and components are functions"},
    {lines: [4], notes: "We can pass a component"},
    {lines: [5], notes: "Or pass a string"},
    {
      tokens: {
        1: [18,19,20],
        4: [2,3,4,5,6,7,8,9,10]
      },
      notes: "Will render the PizzaComponent"
    },
     {
      tokens: {
        1: [18,19,20],
        5: [2,3,4,5,6,7,8,9,10]
      },
      notes: "Will render text 'Potato Chips'"
    },
    {}
  ]}
/>

---

export default FullScreenCode

## React components can be Props

<CodeSandbox src="https://codesandbox.io/embed/r5o83n8k3n?autoresize=1&fontsize=14"/>
